<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

		{# <link  href=" {{ asset('.assets/css/bootstrap.min.css') }}" rel="stylesheet">
								<link  href=" {{ asset('assets/css/templatemo.css') }}" rel="stylesheet">
								<link rel="stylesheet" href="../assets/css/custom.css">
								<script src="../assets/js/jquery-1.11.0.min.js"></script>
								<script src="../assets/js/jquery-migrate-1.2.1.min.js"></script>
								<script src="../assets/js/bootstrap.bundle.min.js"></script>
								<script src="../assets/js/templatemo.js"></script>
								<script src="../assets/js/custom.js"></script> #}
		{# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}

		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
		{% endblock %}
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-light shadow">
			<div class="container d-flex justify-content-between align-items-center">

				<a class="navbar-brand text-success logo h1 align-self-center">
					E-commerce
				</a>
				<button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#templatemo_main_nav" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>


				<div class="align-self-center collapse navbar-collapse flex-fill  d-lg-flex justify-content-lg-between" id="templatemo_main_nav">
					<div class="flex-fill">
						<ul class="nav navbar-nav d-flex justify-content-between mx-lg-auto">
							{% if app.user %}
								<li class="nav-item">
									<a class="nav-link" href={{path('app_homes')}}>Home</a>
								</li>
							{% endif %}

							<li class="nav-item">
								<a class="nav-link" href="#">About</a>
							</li>

							{% if app.user %}
								<li class="nav-item">
									<a class="nav-link" href="{{path('new_article')}}">Nouveau Produit</a>
								</li>
							{% endif %}
							{% if app.user %}
								<li class="nav-item">
									<a class="nav-link" href="{{path('ecom_mesproduits')}}">mes Produits</a>
								</li>
							{% endif %}

							{% if app.user %}
								<li class="nav-item">
									<a class="nav-link active position-relative" href="{{path('app_cart')}}">Mon Panier
										{% set nbProduits = app.session.get('qt') %}
										{% if nbProduits > 0 %}
											<span class="position-absolute top-25 start-100 translate-middle badge rounded-pill bg-danger">{{nbProduits}}</span>
										{% endif %}

									</a>
								</li>

							{% endif %}


							<li class="nav-item">
								<a class="nav-link" href={{path('ecom_contact')}}>Contact</a>
							</li>
							{% if app.user == null %}
								<li class="nav-item">
									<a class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">Authentification</a>
								</li>
							{% endif %}

						</ul>
					</div>
				</div>
			</nav><br>
			<div class="modal" id="myModal">
				<div class="modal-dialog">
					<div
						class="modal-content">

						<!-- Modal Header -->
						<div class="modal-header">
							<h4 class="modal-title">AUTHENTIFICATION</h4>
							<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
						</div>

						<!-- Modal body -->
						<div class="modal-body">
							<div class="container ">

								<a class="btn btn-primary col-md-5 me-5" href={{path('app_login')}}>Connexion</a>
								<a class="btn btn-primary col-md-5 ms-3" href={{path('app_register')}}>Inscription</a>

							</div>

						</div>

						<!-- Modal footer -->
						<div class="modal-footer">
							<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fermer</button>
						</div>

					</div>
				</div>
			</div>
			<div class="modal fade bg-white" id="templatemo_search" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="w-100 pt-1 mb-5 text-right">
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<form action="" method="get" class="modal-content modal-body border-0 p-0">
						<div class="input-group mb-2">
							<input type="text" class="form-control" id="inputModalSearch" name="q" placeholder="Search ...">
							<button type="submit" class="input-group-text bg-success text-light">
								<i class="fa fa-fw fa-search text-white"></i>
							</button>
						</div>
					</form>
				</div>
			</div>
			<div class="container"> {% block body %}{% endblock %}
				</div>

			</body>
		</body>
	</html>
